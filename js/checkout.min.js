jQuery((function(e){let t=e("#billing_delivery_type");t.css("display","none");let i=document.createElement("select");i.name="deliveryType",i.id="deliveryType";[{title:"Вибиріть тип доставки",value:"check"},{title:"Відділення",value:"warehouse"},{title:"за адресою",value:"courier"}].forEach(((e,t)=>{"check"===e.value?i[t]=new Option(e.title,e.value,!0):i[t]=new Option(e.title,e.value)})),i.querySelectorAll("option").forEach((e=>{"check"==e.value&&(e.disabled=!0)})),t.before(i),document.getElementById("billing_city").setAttribute("disabled",!0),document.getElementById("billing_courier").setAttribute("disabled",!0),document.getElementById("billing_warehouse").setAttribute("disabled",!0);let a=e("#deliveryType"),l=e("#billing_courier").parents(".form-row"),r=e("#billing_warehouse").parents(".form-row");a.change((function(i){let a=i.target.value;t.val(i.target.value),"courier"===a?(e(l).removeClass("hideInput"),e(r).addClass("hideInput"),e("#billing_city").removeAttr("disabled")):"warehouse"===a&&(e("#billing_city").removeAttr("disabled"),e(l).addClass("hideInput"),e(r).removeClass("hideInput"))}));e("#billing_city").autocomplete({source:function(t,i){let a={apiKey:np_key.key,modelName:"Address",calledMethod:"getCities",methodProperties:{FindByString:t.term,Limit:"10",Page:"1"}};e.ajax({url:"https://api.novaposhta.ua/v2.0/json/",method:"POST",data:JSON.stringify(a),success:function(e){let t=[];if(0!=e.data.length){let i=e.data;for(const[e,a]of Object.entries(i)){let e={label:a.Description,value:a.Description,ref:a.Ref};t.push(e)}}i(t)}})},messages:{noResults:"dasads.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}},select:function(t,i){let a=t.target;e(a).attr("data-city-name",i.item.label),e(a).attr("data-city-ref",i.item.ref),e("#billing_warehouse").removeAttr("disabled"),e("#billing_courier").removeAttr("disabled"),e(a).val(i.item.label)}}).autocomplete("widget").addClass("cityList"),e("#billing_warehouse").autocomplete({source:function(t,i){let a=np_key.key,l=e("#billing_city").attr("data-city-name"),r=(e("#billing_city").attr("data-city-ref"),{apiKey:a,modelName:"Address",calledMethod:"getWarehouses",methodProperties:{CityName:l,FindByString:t.term,Limit:"20",Page:"1"}});e.ajax({url:"https://api.novaposhta.ua/v2.0/json/",method:"POST",data:JSON.stringify(r),success:function(e){let t=[];if(0!=e.data.length){let i=e.data;for(const[e,a]of Object.entries(i)){let e={label:a.Description,value:a.Description,adress:a.ShortAddress};t.push(e)}}i(t)}})}}).autocomplete("widget").addClass("cityList")}));

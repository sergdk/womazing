const pageCartApp=createApp({data:()=>({cart:null,total_w_coupon:null,total:null,cartCount:0,isEmpty:!0,loader:!0,coupon:null,couponIsEmpty:!0}),methods:{updateCart:function(){this.loader=!0;let t=new FormData;t.append("action","cart_action"),t.append("details","get_cart"),axios({method:"post",url:"/wp-admin/admin-ajax.php",data:t}).then((t=>{let a=t.data;0!=a.cart.count?this.isEmpty=!0:this.isEmpty=!1,this.cartCount=Number(a.cart.count),this.total=Number(a.cart.total),this.total_w_coupon=Number(a.cart.total_w_coupon),this.cart=a.cart.products,this.loader=!1,Object.keys(a.cart.coupons).length&&(this.coupon=a.cart.coupons,this.couponIsEmpty=!1),console.log(a),console.log(this.total_w_coupon)})).catch((t=>{console.log(t)}))},removeFromCart:function(t){this.loader=!0;let a=new FormData;a.append("action","cart_action"),a.append("details","remove_from_cart"),a.append("item",t),axios({method:"post",url:"/wp-admin/admin-ajax.php",data:a}).then((t=>{let a=t.data;0!=a.cart.count?this.isEmpty=!0:this.isEmpty=!1,this.cartCount=Number(a.cart.count),this.total=Number(a.cart.total),this.cart=a.cart.products,this.loader=!1,Object.keys(a.cart.coupons).length&&(this.coupon=a.cart.coupons,this.couponIsEmpty=!1)})).catch((t=>{console.log(t)}))},qntItemPlus:function(t){this.loader=!0;let a=new FormData;a.append("action","cart_action"),a.append("details","item_plus"),a.append("index",t),axios({method:"post",url:"/wp-admin/admin-ajax.php",data:a}).then((t=>{let a=t.data;0!=a.cart.count?this.isEmpty=!0:this.isEmpty=!1,this.cartCount=Number(a.cart.count),this.total=Number(a.cart.total),this.cart=a.cart.products,this.loader=!1,Object.keys(a.cart.coupons).length&&(this.coupon=a.cart.coupons,this.couponIsEmpty=!1)})).catch((t=>{console.log(t)}))},qntItemMinus:function(t){this.loader=!0;let a=new FormData;a.append("action","cart_action"),a.append("details","item_minus"),a.append("index",t),axios({method:"post",url:"/wp-admin/admin-ajax.php",data:a}).then((t=>{let a=t.data;0!=a.cart.count?this.isEmpty=!0:this.isEmpty=!1,this.cartCount=Number(a.cart.count),this.total=Number(a.cart.total),this.cart=a.cart.products,this.loader=!1,Object.keys(a.cart.coupons).length&&(this.coupon=a.cart.coupons,this.couponIsEmpty=!1)})).catch((t=>{console.log(t)}))},setCoupon:function(){if(null!==this.coupon){this.loader=!0;let t=new FormData;t.append("action","cart_action"),t.append("details","set_coupon"),t.append("coupon",this.coupon),axios({method:"post",url:"/wp-admin/admin-ajax.php",data:t}).then((t=>{let a=t.data;0!=a.cart.count?this.isEmpty=!0:this.isEmpty=!1,this.cartCount=Number(a.cart.count),this.total=Number(a.cart.total),this.cart=a.cart.products,this.loader=!1,Object.keys(a.cart.coupons).length&&(this.coupon=a.cart.coupons,this.couponIsEmpty=!1)})).catch((t=>{console.log(t)}))}}},mounted:function(){this.updateCart()}}),pageCart=document.getElementById("pageCart");null!==pageCart&&pageCartApp.mount("#pageCart");
